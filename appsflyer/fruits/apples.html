<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="AppsFlyer Demo Website">
    <meta name="author" content="Salisa Niramansakul">

    <!-- OG Meta Tags to improve the way the post looks when you share the page on Facebook, Twitter, LinkedIn -->
    <meta property="og:site_name" content="AppsFlyer Demo Site - Website Name" /> <!-- website name -->
    <meta property="og:site" content="www.mind.in.th/AppsFlyer" /> <!-- website link -->
    <meta property="og:title" content="AppsFlyer Demo Site - Title Page"/> <!-- title shown in the actual shared post -->
    <meta property="og:description" content="AppsFlyer Demo Site - Description" /> <!-- description shown in the actual shared post -->
    <meta property="og:image" content="" /> <!-- image link, make sure it's jpg -->
    <meta property="og:url" content="" /> <!-- where do you want your post to link to -->
    <meta name="twitter:card" content="summary_large_image"> <!-- to have large image post format in Twitter -->

    <!-- Webpage Title -->
    <title>AppsFlyer Demo Page | Fruits - Apples</title>
    
    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/fontawesome-all.min.css" rel="stylesheet">
    <link href="../css/swiper.css" rel="stylesheet">
	<link href="../css/styles.css" rel="stylesheet">
	
	<!-- Favicon  -->
    <link rel="icon" href="../images/favicon.png">

     <!-- Google Tag -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1FP9XP8Z92"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1FP9XP8Z92');
    </script>

</head>
<body>

    <!-- Navigation -->
    <nav id="navbarExample" class="navbar navbar-expand-lg fixed-top navbar-light" aria-label="Main navigation">
        <div class="container">

            <!-- Image Logo -->
            <a class="navbar-brand logo-image" href="../index.html"><img src="../images/af-logo.png" alt="alternative"></a>

            <!-- Text Logo - Use this if you don't have a graphic logo -->
            <a class="navbar-brand logo-text" href="../index.html">Demo Site</a> 

            <button class="navbar-toggler p-0 border-0" type="button" id="navbarSideCollapse" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav ms-auto navbar-nav-scroll">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="../index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#app">Salisa App</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html#smartscript">Smart Script</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../af_banner.html">Smart Banner</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="../fruits/" id="dropdown01" data-bs-toggle="dropdown" aria-expanded="false">Fruits</a>
                        <ul class="dropdown-menu" aria-labelledby="dropdown01">
                            <li><a class="dropdown-item" href="../fruits/apples.html">Apples</a></li>
                            <li><div class="dropdown-divider"></div></li>
                            <li><a class="dropdown-item" href="#">Papayas</a></li>
                            <li><div class="dropdown-divider"></div></li>
                            <li><a class="dropdown-item" href="#">Bananas</a></li>
                            <li><div class="dropdown-divider"></div></li>
                            <li><a class="dropdown-item" href="#">Oranges</a></li>
                        </ul>
                    </li> 
                </ul>
                <span class="nav-item">
                    <a class="btn-solid-sm" href="https://www.appsflyer.com">Go to AppsFlyer</a>
                </span>
            </div> <!-- end of navbar-collapse -->
        </div> <!-- end of container -->
    </nav> <!-- end of navbar -->
    <!-- end of navigation -->


    <!-- Header -->
    <header class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-xl-10 offset-xl-1">
                    <h1>Apples</h1>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->


    <!-- Basic -->
    <div class="ex-basic-1 pt-4">
        <div class="container">
            <div class="row">
                <div class="col-xl-10 offset-xl-1">
                    <p>Welcome to the Apples Page. This post is written to demonstrate the combined use cases of Smart Script and Unified Deep Linking (UDL). We will build on top of the standard smart script with a little help from additional javascript function.</p>
                    <p align="center"><img class="img-fluid" style="max-width: 400px;" src="../images/apples.jpeg" alt="Apples"></p>
                    <h2 class="mb-3">Basic Smart Script</h2>

                    <p>The button below is embeded with OneLink without any deep link value. If an existing app user clicks on the link, the user will be sent to the homescreen.</p>
                    <p align="center">
                        <a id="smartscriptlink" class="btn-outline-reg mb-5" >Without Deep Link Value</a>
                    </p>

                    <h2 class="mb-3">Advanced Smart Script</h2>

                    <p>The button below is embeded with OneLink with a deep link value according to the website URL. If an existing app user clicks on the link, the user will be sent to the specific page according to the current page.</p>

                    <p>We can utilize<code>window.location</code>- a javascript method to automatically pick up the current landing page URL.</p>


                    <p align="center"><br/>
                        <a id="smartscriptlink2" class="btn-solid-reg mb-5" >With Deep Link Value</a>
                    </p>

                    <h3>Javascript Walkthrough</h3>
                    <p>Let's started with
                        <code>var page_url = window.location.pathname</code>
                        this will return you the <code>page_url</code>to be 
                        <code id="page_url"></code></p>

                    <p>From here you can use<code> var path_url = page_url.split("/fruits/")</code> to split the path into 2, and extract the fruit name in the latter part using
                        <code>path_url[1]</code>, which will return you
                        <code id="path_url"></code></p>

                    <p>Now, we can clean up the<code>.html</code>with<code>var dp_value = path_url[1].replace(".html","")</code>There, you will have<code id="dp_value"></code></p>

                    <p>Lastly, because the<code>deep_link_value</code>parameter that the app accepts for the fruit name has to start with capital letter, we use the trick
                        <code>
                            dp_value.charAt(0).toUpperCase() + dp_value.slice(1)
                        </code>This will return you the exact format needed for the application, <code id="dp_value2"></code>.        
                    </p>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of ex-basic-1 -->
    <!-- end of basic -->


   

                </div> <!-- end of col -->   
            </div> <!-- end of row -->   
        </div> <!-- end of container -->   
    </div> <!-- end of ex-cards-1 -->
    <!-- end of cards -->


    <!-- Basic -->
    <div class="ex-basic-1 pt-3 pb-5">
        <div class="container">
            <div class="row">
                <div class="col-xl-10 offset-xl-1">
                    <div class="text-box mb-5">
                        <h3>Make Smart Script even more dynamics</h3>
                        <p>This technique allows a website developer to dynamically generate the OneLink outgoing links equipped with the deeplink capability to direct the existing users to the desired in-app landing pages according to their needs without hard-coding the deeplink value.</p>
                    </div> <!-- end of text-box -->
 
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of ex-basic-1 -->
    <!-- end of basic -->


    <!-- Footer -->
    <div class="footer bg-gray">
        <img class="decoration-city" src="../images/decoration-city.svg" alt="alternative">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h4>Weâ€™re everywhere you are</h4>
                    <div class="social-container">
                        <span class="fa-stack">
                            <a href="#your-link">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-facebook-f fa-stack-1x"></i>
                            </a>
                        </span>
                        <span class="fa-stack">
                            <a href="#your-link">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-twitter fa-stack-1x"></i>
                            </a>
                        </span>
                        <span class="fa-stack">
                            <a href="#your-link">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-instagram fa-stack-1x"></i>
                            </a>
                        </span>
                        <span class="fa-stack">
                            <a href="#your-link">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-youtube fa-stack-1x"></i>
                            </a>
                        </span>
                    </div> <!-- end of social-container -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of footer -->  
    <!-- end of footer -->


    <!-- Copyright -->
    <div class="copyright bg-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                   <!-- <ul class="list-unstyled li-space-lg p-small">
                        <li><a href="article.html">Article Details</a></li>
                        <li><a href="terms.html">Terms & Conditions</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li> -->
                    </ul>
                </div> <!-- end of col -->
                <div class="col-lg-3">
                    <p class="p-small statement">Copyright Â© 2023 - <a href="#">Salisa App</a></p>
                </div> <!-- end of col -->
                <div class="col-lg-3">
                    <p class="p-small statement">As part of <a href="https://mind.in.th/" target="_blank">Mind.in.th</a></p>
                </div> <!-- end of col -->
            </div> <!-- enf of row -->
        </div> <!-- end of container -->
    </div> <!-- end of copyright --> 
    <!-- end of copyright -->
    

    <!-- Back To Top Button -->
    <button onclick="topFunction()" id="myBtn">
        <img src="../images/up-arrow.png" alt="alternative">
    </button>
    <!-- end of back to top button -->
    	
    <!-- Scripts -->
    <script src="../js/bootstrap.min.js"></script> <!-- Bootstrap framework -->
    <script src="../js/swiper.min.js"></script> <!-- Swiper for image and text sliders -->
    <script src="../js/purecounter.min.js"></script> <!-- Purecounter counter for statistics numbers -->
    <script src="../js/isotope.pkgd.min.js"></script> <!-- Isotope for filter -->
    <script src="../js/scripts.js"></script> <!-- Custom scripts -->
    <script src="../js/af-smartscript.js"></script> <!-- AppsFlyer Smart Script scripts -->  

    <script>
        //Initializing Smart Script arguments
        var oneLinkURL = "https://salisa.onelink.me/F3t6";
        var mediaSource = {keys:["pid","utm_source"], defaultValue:"website"};
        var campaign = {keys:["c","utm_campaign"], defaultValue:"smartbannerweb"};
        var custom_ss_ui = {paramKey:"af_ss_ui", defaultValue:"true"};
        var is_retargeting = {paramKey: "is_retargeting", keys: [], defaultValue: "true"};

        //Advanced Smart Script
        var page_url = window.location.pathname
        var path_url = page_url.split("/fruits/")
        var dp_value = path_url[1].replace(".html","")
        var dp_value2 = dp_value.charAt(0).toUpperCase() + dp_value.slice(1)

        var deep_link_value = {paramKey: "deep_link_value", keys: [], defaultValue: dp_value2};

        // For post explanation - Do not need this for your Smart Script
        document.getElementById("page_url").innerHTML = page_url;
        document.getElementById("path_url").innerHTML = path_url[1];
        document.getElementById("dp_value").innerHTML = dp_value;
        document.getElementById("dp_value2").innerHTML = dp_value2;

        //
        var result_url = window.AF_SMART_SCRIPT.generateOneLinkURL({
            oneLinkURL: oneLinkURL,
            afParameters: {
            mediaSource: mediaSource,
            campaign: campaign,
            afCustom: [
                custom_ss_ui,
                is_retargeting
            ]
            }
        });

        var result_url2 = window.AF_SMART_SCRIPT.generateOneLinkURL({
            oneLinkURL: oneLinkURL,
            afParameters: {
            mediaSource: mediaSource,
            campaign: campaign,
           deepLinkValue: deep_link_value,
            afCustom: [
                custom_ss_ui,
                is_retargeting
            ]
            }
        });

        if(result_url) {
            // Add link to the download button - Case 1 without Deep Link Value
          document.getElementById('smartscriptlink').setAttribute("href", result_url.clickURL);
          document.getElementById('smartscriptlink2').setAttribute("href", result_url2.clickURL);

            // Fire impression
            // Timer for temporary bug fixes
          console.log("Waiting before calling fireImpressionsLink()...");
          setTimeout(() => {
              window.AF_SMART_SCRIPT.fireImpressionsLink();
              console.log("Impression fired"); 
            }, 1000);   

          // Display QR Code
          if(window.screen.availwidth > 768) {
              window.AF_SMART_SCRIPT.displayQrCode('smartscript_qr_code');
         }
        }

    </script>

</body>
</html>